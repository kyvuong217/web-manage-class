<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="./css/profile.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    
</head>
<body>
        <%- include('./partials/nav.ejs') %>
        <%- include('./partials/sidebar.ejs') %>
        <div class="content">
            <div class="box-container">
                <div class="row">
                    <div class="col-md-12">
                        <form action="/view_profile/<%= key.tid %>" method="POST">
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <h3 class="title"><span class="text-style1">Edit </span><span class="textstyle">Your Profile</span></h3>
                            </div>
                            <hr class="hr-style">
                            <% if (message) { %> 
                                <div style="text-align: center; " class="alert alert-<%= message.type %> alert-dismissible fade show" id="alert-message">
                                    <button type="button" class="close" data-dismiss="alert">&times;</button>
                                    <strong><%= message.message %></strong>
                                </div>
                            <% } %>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="info-box" style="box-shadow: 10px 5px 12px #0000001f;">
                                        <div class="info-content">
                                            <div class="profile-card">
                                                <center>
                                                    <img src="/img/gv.jpg" alt="profile-card" class="profile-icon" style="margin-top:8px">
                                                    <div class="card-name"><%= gv[0].name %></div>
                                                    <hr class="seperator">
                                                    <div class="card-txt">Teacher ID: <strong><%= gv[0].tid %></strong></div>
                                                    <div class="card-txt">Email: <strong><%= gv[0].email %></strong></div>
                                                    <div class="card-txt">Phone: <strong><%= gv[0].phone %></strong></div>
                                                    <div class="card-txt"><ion-icon name="location-outline"></ion-icon>Studying at: <strong><%= gv[0].workplace %></strong></div>
                                                </center>                                        
                                            </div>
                                        </div>
                                    </div>
                                    
                                </div>
                                <div class="col-md-4">
                                    <h4 class="mb-4 header-style">Personal Information</h4>
                                    <hr>
                                    <label class="labels">Full Name</label>
                                    <div class="form-floating">
                                        <ion-icon name="person-outline"></ion-icon><input type="text" class="form-control" placeholder="Full name" value="<%= gv[0].name %>" name="name">
                                    </div>
                                    <label class="labels">Date of birth</label>
                                    <div class="form-floating">
                                        <ion-icon name="calendar-outline"></ion-icon><input type="text" class="form-control" placeholder="YYYY-MM-DD" value="<%= gv[0].dob.getFullYear()%>-<%= gv[0].dob.getMonth() + 1 %>-<%= gv[0].dob.getDate() %>" name="dob">
                                    </div>
                                    <label class="labels">Phone</label>
                                    <div class="form-floating">
                                        <ion-icon name="call-outline"></ion-icon><input type="text" class="form-control" placeholder="Phone number" value="<%= gv[0].phone %>" name="phone">
                                    </div>
                                    <label class="labels">Workplace</label>
                                    <div class="form-floating">
                                        <ion-icon name="briefcase-outline"></ion-icon><input type="text" class="form-control" placeholder="Work place" value="<%= gv[0].workplace %>" name="workplace">
                                    </div>

                                </div>
                                <div class="col-md-4">
                                    <h4 class="mb-4 header-style">Class Information</h4>
                                    <hr>
                                    <div class="row">
                                        <% gv.forEach((data)=>{ %> 
                                        <div class="col">
                                            <div class="box">
                                                <figure class="card__icon" style="--i:#4eb7ff">
                                                    <ion-icon name="bookmarks-outline"></ion-icon>
                                                </figure>
                                                <div class="card__content">
                                                    <h2 class="card__title">
                                                        <%= data.cname %>
                                                    </h2>
                                                </div>
                                            </div>
                                        </div>
                                        <% }) %> 
                                                                              
                                    </div>
                                    
                                    
                                    
                                    <div class="mt-5 text-center">
                                        <button class="btn btn-outline-info" type="submit"><ion-icon name="save-outline"></ion-icon>Save Profile</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                        
        </div>
        <!-- <script src="./js/active.js"></script> -->
        <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
        <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
        <script src="./js/alert.js"></script>
        <script src="./js/dropdown.js"></script>

</body>
</html>